local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

local Window = WindUI:CreateWindow({
    Title = "Perfect Hub",
    Icon = "door-open", -- lucide icon. optional
    Author = "by cvoda", -- optional
})

Window:EditOpenButton({
    Title = "Open Skibidi",
    Icon = "mouse-pointer-2",
    CornerRadius = UDim.new(0,10),
    StrokeThickness = 5,
    Color = ColorSequence.new( -- gradient
        Color3.fromHex("4895FF"), 
        Color3.fromHex("800080")
    ),
    OnlyMobile = false,
    Enabled = true,
    Draggable = true,
})

Window:Tag({
    Title = "Generic Blood Ragdoll Fighting",
    Icon = "github",
    Color = Color3.fromHex("#30ff6a"),
    Radius = 0, -- from 0 to 13
})

local Tab = Window:Tab({
    Title = "Credits",
    Icon = "box", -- optional
    Locked = false,
})

local Section = Tab:Section({ 
    Title = "Made By cvoda blox",
})

local Button = Tab:Button({
    Title = "Discord",
    Color = Color3.fromHex("#0000FF"), -- paint the button
    Justify = "Center", -- align items in the center (Center or Between or Left or Right)
    IconAlign = "Left", -- Left or Right of the text
    Icon = "thumbs-up", -- removing icon
    Callback = function()
        -- ...
        
        local link = "https://discord.gg/bZyMGmjqUe"

if setclipboard then
    setclipboard(link)
end

game.StarterGui:SetCore("SendNotification", {
    Title = "Clipboard",
    Text = "copy",
    Duration = 3
})
        
    end
})

local Button = Tab:Button({
    Title = "YouTube",
    Color = Color3.fromHex("#FF0000"), -- paint the button
    Justify = "Center", -- align items in the center (Center or Between or Left or Right)
    IconAlign = "Left", -- Left or Right of the text
    Icon = "youtube", -- removing icon
    Callback = function()
        -- ...
        
        local link = "https://youtube.com/@cvoda_blox?si=0fn72rKeK6X20BDa"

if setclipboard then
    setclipboard(link)
end

game.StarterGui:SetCore("SendNotification", {
    Title = "Clipboard",
    Text = "copy",
    Duration = 3
})
        
    end
})

local Section = Tab:Section({ 
    Title = "My roblox name : R_rezona",
})

local Section = Tab:Section({ 
    Title = "update : Adding some scripts and others, ty for 100+ use :D",
})

local Tab = Window:Tab({
    Title = "Kill",
    Icon = "shield-ban", -- optional
    Locked = false,
})

local toggleState = false

local Toggle = Tab:Toggle({
    Title = "Kill all Everyone",
    Desc = "Toggle",
    Icon = "bird",
    Type = "Checkbox",
    Value = false, -- default off
    Callback = function(state)
        toggleState = state
        print("Auto Hit Toggle is " .. tostring(state))
    end
})

task.spawn(function()
    while task.wait() do
        if toggleState then
            local player = game.Players.LocalPlayer
            local weapon = player.Backpack:WaitForChild("Katana")
            local remote = game.ReplicatedStorage.Assets.Remotes.Hit

            for _, target in pairs(game.Players:GetPlayers()) do
                if target ~= player then
                    local humanoid = target.Character and target.Character:FindFirstChild("Humanoid")
                    if humanoid then
                        remote:FireServer(weapon, humanoid, 2)
                    end
                end
            end
        end
    end
end)

local toggleState = false

local Toggle = Tab:Toggle({
    Title = "kill all noob npc",
    Desc = "Toggle",
    Icon = "bird",
    Type = "Checkbox",
    Value = false, -- default off
    Callback = function(state)
        toggleState = state
        print("Auto Hit NPC Toggle is " .. tostring(state))
    end
})

task.spawn(function()
    while task.wait() do
        if toggleState then
            local players = game:GetService("Players")
            local replicatedStorage = game:GetService("ReplicatedStorage")
            
            local katana = players.LocalPlayer:WaitForChild("Backpack"):WaitForChild("Katana")
            local hitRemote = replicatedStorage:WaitForChild("Assets"):WaitForChild("Remotes"):WaitForChild("Hit")
            
            for _, npc in pairs(workspace.Characters:GetChildren()) do
                if npc.Name:match("^Dummy%d+$") then
                    local humanoid = npc:FindFirstChild("Humanoid")
                    if humanoid then
                        local args = {katana, humanoid, 1}
                        hitRemote:FireServer(unpack(args))
                    end
                end
            end
        end
    end
end)

--- tool method
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer
local selectedTool = nil
local toggleState = false

local Dropdown = Tab:Dropdown({
    Title = "kill all with tool method",
    Desc = "chose tool",
    Values = {
        "Hammer",
        "Metal Bat",
        "Shovel",
        "FireAxe",
        "Sledgehammer",
        "BaseballBat",
        "Crowbar"
    },
    Value = "Hammer",
    Callback = function(option)
        selectedTool = option
        print("Tool dipilih:", option)
    end
})

local Toggle = Tab:Toggle({
    Title = "Auto Hit",
    Desc = "On / Off Script",
    Value = false,
    Callback = function(state)
        toggleState = state
        print("Toggle:", state)
    end
})

task.spawn(function()
    while task.wait(0.2) do
        if toggleState and selectedTool then
            local backpack = player:WaitForChild("Backpack")
            local weapon = backpack:FindFirstChild(selectedTool)

            if not weapon then
                warn("Tool tidak ditemukan:", selectedTool)
                continue
            end

            local remote = ReplicatedStorage
                :WaitForChild("Assets")
                :WaitForChild("Remotes")
                :WaitForChild("Hit")

            for _, target in pairs(Players:GetPlayers()) do
                if target ~= player then
                    local char = target.Character
                    local humanoid = char and char:FindFirstChild("Humanoid")

                    if humanoid then
                        remote:FireServer(weapon, humanoid, 2)
                    end
                end
            end
        end
    end
end)

local Tab = Window:Tab({
    Title = "Troll",
    Icon = "crown", -- optional
    Locked = false,
})

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer
local selectedTool = nil
local toggleState = false
local currentTargetIndex = 1

local Dropdown = Tab:Dropdown({
    Title = "chose hit tool method",
    Desc = "chose tool to hit",
    Values = {
        "Hammer",
        "Metal Bat",
        "Shovel",
        "FireAxe",
        "Sledgehammer",
        "BaseballBat",
        "Crowbar"
    },
    Value = "Hammer",
    Callback = function(option)
        selectedTool = option
        print("Tool chose:", option)
    end
})

local Toggle = Tab:Toggle({
    Title = "Teleport + Auto Hit",
    Desc = "On / Off",
    Value = false,
    Callback = function(state)
        toggleState = state
        print("Toggle:", state)
    end
})

local function teleportToTarget(target)
    if player.Character and target.Character then
        local hrp = player.Character:FindFirstChild("HumanoidRootPart")
        local targetHrp = target.Character:FindFirstChild("HumanoidRootPart")
        if hrp and targetHrp then
            hrp.CFrame = targetHrp.CFrame * CFrame.new(0, 0, -3)
        end
    end
end

task.spawn(function()
    while task.wait(0.15) do
        if toggleState and selectedTool then
            local playersList = Players:GetPlayers()

            if currentTargetIndex > #playersList then
                currentTargetIndex = 1
            end

            local target = playersList[currentTargetIndex]

            if target ~= player then
                local targetHumanoid = target.Character and target.Character:FindFirstChild("Humanoid")

                -- jika target mati â†’ lanjut ke player berikutnya
                if not targetHumanoid or targetHumanoid.Health <= 0 then
                    currentTargetIndex += 1
                else
                    teleportToTarget(target)

                    local weapon = player.Backpack:FindFirstChild(selectedTool)
                    if weapon then
                        local remote = ReplicatedStorage
                            :WaitForChild("Assets")
                            :WaitForChild("Remotes")
                            :WaitForChild("Hit")

                        remote:FireServer(weapon, targetHumanoid, 2)
                    end
                end
            else
                currentTargetIndex += 1
            end
        end
    end
end)

local Section = Tab:Section({ 
    Title = "Recommend Using Infinite Yield",
})

local Tab = Window:Tab({
    Title = "Others",
    Icon = "bird", -- optional
    Locked = false,
})

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera

local ESPEnabled = false
local ESPObjects = {}

local BOX_COLOR = Color3.fromRGB(255, 0, 0)
local NAME_COLOR = Color3.fromRGB(255, 255, 255)

local function removeESP(player)
	if ESPObjects[player] then
		for _, v in pairs(ESPObjects[player]) do
			if v then v:Remove() end
		end
		ESPObjects[player] = nil
	end
end

local function createESP(player)
	if player == LocalPlayer then return end

	local box = Drawing.new("Square")
	box.Thickness = 1
	box.Color = BOX_COLOR
	box.Filled = false
	box.Visible = false

	local name = Drawing.new("Text")
	name.Size = 14
	name.Center = true
	name.Outline = true
	name.Color = NAME_COLOR
	name.Visible = false

	ESPObjects[player] = {box, name}
end

local function updateESP()
	for player, drawings in pairs(ESPObjects) do
		local char = player.Character
		local hrp = char and char:FindFirstChild("HumanoidRootPart")
		if hrp then
			local pos, onScreen = Camera:WorldToViewportPoint(hrp.Position)
			if onScreen and ESPEnabled then
				local scale = math.clamp(1 / (pos.Z / 20), 1, 3)
				drawings[1].Size = Vector2.new(40 * scale, 60 * scale)
				drawings[1].Position = Vector2.new(pos.X - drawings[1].Size.X / 2, pos.Y - drawings[1].Size.Y / 2)
				drawings[1].Visible = true

				drawings[2].Text = player.Name
				drawings[2].Position = Vector2.new(pos.X, pos.Y - 35 * scale)
				drawings[2].Visible = true
			else
				drawings[1].Visible = false
				drawings[2].Visible = false
			end
		end
	end
end

for _, plr in pairs(Players:GetPlayers()) do
	createESP(plr)
end

Players.PlayerAdded:Connect(createESP)
Players.PlayerRemoving:Connect(removeESP)

RunService.RenderStepped:Connect(updateESP)

local Toggle = Tab:Toggle({
	Title = "ESP Box",
	Desc = "ESP player",
	Icon = "eye",
	Type = "Checkbox",
	Value = false,
	Callback = function(state)
		ESPEnabled = state
		if not state then
			for _, drawings in pairs(ESPObjects) do
				for _, v in pairs(drawings) do
					v.Visible = false
				end
			end
		end
	end
})
